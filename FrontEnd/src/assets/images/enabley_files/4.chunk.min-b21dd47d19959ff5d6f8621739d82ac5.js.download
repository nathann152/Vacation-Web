(window.webpackJsonpecho=window.webpackJsonpecho||[]).push([[4],{2212:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(3)),s=n(a(4)),l=new(function(){function e(){(0,i.default)(this,e),this._contentLocale="en-US",this._interfaceLocale="en-US",this._accountId="",this._channelId="",this._ciId="",this._ciVersion="",this.getFileValidTypes=e.getFileValidTypes}return(0,s.default)(e,[{key:"contentLocale",get:function(){return this._contentLocale},set:function(e){this._contentLocale=e}},{key:"ciVersion",get:function(){return this._ciVersion},set:function(e){this._ciVersion=e}},{key:"ciId",get:function(){return this._ciId},set:function(e){this._ciId=e}},{key:"interfaceLocale",get:function(){return this._interfaceLocale},set:function(e){this._interfaceLocale=e}},{key:"accountId",get:function(){return this._accountId},set:function(e){this._accountId=e}},{key:"channelId",get:function(){return this._channelId},set:function(e){this._channelId=e}}],[{key:"getFileValidTypes",value:function(){var e="".concat("application/pdf",", pdf"),t="".concat("application/vnd.ms-powerpoint",", ").concat("application/vnd.openxmlformats-officedocument.presentationml.presentation",", ppt, pptx"),a="".concat("application/msword",",").concat("application/vnd.openxmlformats-officedocument.wordprocessingml.document",", doc, docx"),n="".concat("application/vnd.ms-excel",",").concat("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",", xls, xlsx"),i="".concat(t,",").concat(n,",").concat(a),s="".concat("video/mp4,video/quicktime",", mp4, mov"),l="".concat("image/jpg,image/jpeg,image/png",", jpg, png"),r="".concat("application/zip,application/x-zip,application/x-zip-compressed",", zip");return{PDF_TYPE:e,PPT_TYPE:t,MS_WORD_TYPE:a,MS_EXCEL_TYPE:n,MS_OFFICE_TYPE:i,VIDEO_TYPE:s,IMAGE_TYPE:l,ZIP_TYPE:r,DEFAULT_VALID_TYPES:"".concat(r,", ").concat(e,", ").concat(i,", ").concat(s,", ").concat(l)}}}]),e}());t.default=l},2226:function(e,t,a){"use strict";var n=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ArrowDirection=void 0;var i=n(a(2722));a(2724);var s=i.ArrowDirection;t.ArrowDirection=s;var l=i.default;t.default=l},2245:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(33)),s=n(a(34)),l=n(a(3)),r=n(a(4)),o=n(a(28)),c=n(a(176)),u=n(a(21)),d=n(a(13)),f=n(a(53)),m=n(a(2286)),p=n(a(2212)),E=o.default.Instance,v=f.default.LogManager,g={},h=!1,b=function(){function e(){(0,l.default)(this,e)}var t,a,n,o,f,b;return(0,r.default)(e,null,[{key:"getUploadLink",value:(b=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.get(m.default.GET_UPLOAD_LINK,{},{params:{filename:t}}));case 1:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"uploadFileAndReturnDownloadLink",value:(f=(0,s.default)(i.default.mark((function e(t,a,n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=!1,e.abrupt("return",c.default.uploadFileToLinkAndReturnDownloadLinkPromise({file:t,link:a},n,g));case 2:case"end":return e.stop()}}),e)}))),function(e,t,a){return f.apply(this,arguments)})},{key:"fileProcess",value:(o=(0,s.default)(i.default.mark((function e(t,a){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post(m.default.FILE_PROCESS,{},{url:t,originalFileName:a}).then((function(e){return e.processId})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"clearProcessStatusPolling",value:function(e){clearInterval(e)}},{key:"getAntiVirusScanStatus",value:(n=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=setInterval((function(){return h?(clearInterval(n),h=!1,a("ABORTED"),null):E.get(m.default.GET_ANTI_VIRUS_SCAN_STATUS,{},{params:{assetKey:t}}).then((function(t){switch(t.scanStatus){case"PENDING":break;case"INFECTED":clearInterval(n),a(t);break;case"CLEAR":clearInterval(n),e(t);break;default:clearInterval(n),a("server responded ".concat(t.message))}})).catch((function(t){clearInterval(n),v.error({message:"Antivirus failed ".concat(t.message?t.message:JSON.stringify(t))}),e()}))}),3e3)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getProcessStatus",value:(a=(0,s.default)(i.default.mark((function e(t){var a,n,s=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:function(){},n=s.length>2&&void 0!==s[2]?s[2]:function(){},e.abrupt("return",new Promise((function(e,i){var s=setInterval((function(){return h?(clearInterval(s),h=!1,i("ABORTED"),null):E.get(m.default.GET_PROCESS_STATUS,{processId:t},{}).then((function(t){switch(t.status){case"STARTED":case"CONVERTING":case"UPLOADING":case"PENDING":a(t.progress,t.message);break;case"DONE":a(t.progress,t.message),clearInterval(s),e(t.conversionResultId);break;case"MAX_CONVERTS_REACHED":case"FAILED":clearInterval(s),i(t);break;default:clearInterval(s),i("server responded ".concat(t.message))}})).catch((function(e){clearInterval(s),i(e)}))}),3e3);n(s)})));case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"cancelProcess",value:function(){h=!0}},{key:"getPagesMetadata",value:(t=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.get(m.default.GET_PAGES_METADATA,{conversionResultId:t},{}));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getAcceptedFileTypesBasedOnPageType",value:function(e){var t=u.default.CI_PAGE_TYPES;switch(e){case t.SCORM:case t.HTML:return p.default.getFileValidTypes().ZIP_TYPE;case t.VIDEO_YOUTUBE:case t.VIDEO_VIMEO:case t.VIDEO_FILE:return p.default.getFileValidTypes().VIDEO_TYPE;case t.PPT_FILE:case t.PPT_IMAGE:return p.default.getFileValidTypes().PPT_TYPE;case t.MS_OFFICE:return p.default.getFileValidTypes().MS_OFFICE_TYPE;case t.PDF:return p.default.getFileValidTypes().PDF_TYPE;case t.IMAGE:return p.default.getFileValidTypes().IMAGE_TYPE;case t.BLANK:default:return p.default.getFileValidTypes().DEFAULT_VALID_TYPES}}},{key:"uploadFile",value:function(e,t,a){return c.default.storeFile({serviceUrl:d.default.getAppdata().backend_url},e,t,a,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.apply(void 0,[e].concat(n))}))}}]),e}();t.default=b},2261:function(e,t,a){},2262:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2380));a(2381);var s=i.default;t.default=s},2284:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2319)).default;t.default=i},2285:function(e,t,a){"use strict";e.exports={LESSON:0,BUZZ:1,FUSE:4,ASSESSMENT:3,PRESENTATION:5,CHANNEL:6,FILE:7,PATH:8,CERTIFICATE:11,VIDEO:12,STRUCTURE:13,UCONTENT:15,BI_REPORT:17,STREAM:18,COURSE_TEMPLATE:19,OFF_PLATFORM_EVENT:20,MASTER_COURSE:21}},2286:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(13)),s={GET_CONTENT_ITEM:"/PlayAppService/ucontent/:contentId/edit",GET_PREVIEW_URL:"/PlayAppService/ucontent/:contentId/preview",GET_PAGES:"/PlayAppService/ucontent/:contentId/edit/pages",DUPLICATE_PAGE:"/PlayAppService/ucontent/:contentId/page/:pageId/duplicate",GET_UPLOAD_LINK:"/LibraryService/getUploadLink",GET_ANTI_VIRUS_SCAN_STATUS:"/PlayAppService/antiVirus/scan/status",GET_PROCESS_STATUS:"/PlayAppService/econtent/process/status/:processId",GET_PAGES_METADATA:"/PlayAppService/econtent/conversionResult/:conversionResultId",GET_PPT_JOBS_IDS:"/PlayAppService/econtent/:contentCid/jobs",UPDATE_MODEL:"/PlayAppService/ucontent",FILE_PROCESS:"/PlayAppService/econtent/process",PUBLISH_CI:"/PlayAppService/library/items/publish",GENERATE_THUMBNAIL:"/PlayAppService/screenshot/generateScreenshot",GET_EDITING_CHANNELS:"/PlayAppService/v2/channels/editing",GET_CHANNEL_STRUCTURE:"/LibraryService/v2/channels/:channelId/structure",CLONE_TEMPLATE:"/PlayAppService/ucontent/:contentId/pages/clone",GET_CHANNEL:"/LibraryService/v2/channels/:channelId",DOWNLOAD_RESOURCES:"/PlayAppService/ucontent/:contentCid/download",CHECK_FILE_EXISTS:"/PlayAppService/general/assets/exists",GET_SLIDE_TO_PAGE_CID_MAP:"/PlayAppService/ucontent/:contentId/version/:contentVersion/slideToPageMap",GET_TASK_ANSWERED_BY_LEARNERS:"/PlayAppService/channel/:channelId/task/:taskId/answered/count"};s.setDomain=i.default.setDomainFactory("backend_url",s);var l=s;t.default=l},2288:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2721));a(2261);var s=i.default;t.default=s},2319:function(e,t,a){"use strict";var n=a(1),i=a(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,r,o=n(a(3)),c=n(a(4)),u=n(a(9)),d=i(a(2285));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=(s={},(0,u.default)(s,d.LESSON,"LESSON"),(0,u.default)(s,d.BUZZ,"WORK_SHEET"),(0,u.default)(s,d.FUSE,"FUSE"),(0,u.default)(s,d.ASSESSMENT,"ASSESSMENT"),(0,u.default)(s,d.CHANNEL,"CHANNEL"),(0,u.default)(s,d.FILE,"FILE"),(0,u.default)(s,d.PATH,"PATH"),(0,u.default)(s,d.CERTIFICATE,"CERTIFICATE"),(0,u.default)(s,d.STRUCTURE,"STRUCTURE"),(0,u.default)(s,d.UCONTENT,"UCONTENT"),(0,u.default)(s,d.BI_REPORT,"BI_REPORT"),(0,u.default)(s,d.COURSE_TEMPLATE,"COURSE_TEMPLATE"),(0,u.default)(s,d.OFF_PLATFORM_EVENT,"OFF_PLATFORM_EVENT"),(0,u.default)(s,d.MASTER_COURSE,"MASTER_COURSE"),s),E=(l={},(0,u.default)(l,d.LESSON,"LESSON"),(0,u.default)(l,d.BUZZ,"BUZZ"),(0,u.default)(l,d.FUSE,"FUSE"),(0,u.default)(l,d.ASSESSMENT,"ASSESSMENT"),(0,u.default)(l,d.CHANNEL,"CHANNEL"),(0,u.default)(l,d.FILE,"FILE"),(0,u.default)(l,d.PATH,"PATH"),(0,u.default)(l,d.CERTIFICATE,"CERTIFICATE"),(0,u.default)(l,d.STRUCTURE,"STRUCTURE"),(0,u.default)(l,d.UCONTENT,"UCONTENT"),(0,u.default)(l,d.BI_REPORT,"BI_REPORT"),(0,u.default)(l,d.COURSE_TEMPLATE,"COURSE_TEMPLATE"),(0,u.default)(l,d.OFF_PLATFORM_EVENT,"OFF_PLATFORM_EVENT"),(0,u.default)(l,d.MASTER_COURSE,"MASTER_COURSE"),l),v=(r={},(0,u.default)(r,d.LESSON,"ebook"),(0,u.default)(r,d.BUZZ,"practice"),(0,u.default)(r,d.FUSE,"fuse"),(0,u.default)(r,d.ASSESSMENT,"assessment"),(0,u.default)(r,d.CHANNEL,"learning_group"),(0,u.default)(r,d.FILE,"file"),(0,u.default)(r,d.PATH,"learning_path"),(0,u.default)(r,d.CERTIFICATE,"certificate"),(0,u.default)(r,d.STRUCTURE,"course"),(0,u.default)(r,d.BI_REPORT,"bi_report"),(0,u.default)(r,d.COURSE_TEMPLATE,"course_template"),(0,u.default)(r,d.OFF_PLATFORM_EVENT,"off_platform_event"),(0,u.default)(r,d.MASTER_COURSE,"master_course"),r),g=function(){function e(){(0,o.default)(this,e)}return(0,c.default)(e,null,[{key:"serverTypeToUiTypeConverter",value:function(){return Object.keys(p).reduce((function(e,t){var a=Number(t),n=p[a];return m(m({},e),{},(0,u.default)({},n,a))}),{})}},{key:"serverTypeToUiTypeConvertByType",value:function(t){return e.serverTypeToUiTypeConverter()[t]}},{key:"itemTypeToLanguageKey",value:function(t){return e.serverTypeToUiType[t]}},{key:"UiTypeToServerTypeConvertor",value:function(e){return p[e]}},{key:"ServerTypeToUiTypeConvertor",value:function(e){return E[e]}},{key:"UiTypeToMixPanelAnalyticsType",value:function(e){return v[e]}}]),e}();t.default=g,g.serverTypeToUiType=g.serverTypeToUiTypeConverter(),g.UiTypeToServerType=p},2372:function(e,t,a){"use strict";a.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICAgIDxnIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTYuMjUgMzMuMjg3VjI5Ljg1TDE0LjAwMiAyMGw2LjI0NSA2Ljg2MiA1LjQ5Mi0yLjk1NCA4LjAxNSA1Ljk0M3YzLjQzNnpNMjUuMDE4IDE2LjI0NGEyLjUwNyAyLjUwNyAwIDAgMCAyLjUxOC0yLjQ5NyAyLjUwNyAyLjUwNyAwIDAgMC0yLjUxOC0yLjQ5NyAyLjUwNyAyLjUwNyAwIDAgMC0yLjUxOCAyLjQ5NyAyLjUwNyAyLjUwNyAwIDAgMCAyLjUxOCAyLjQ5NyIvPgogICAgICAgIDxwYXRoIGQ9Ik00IDJjLTEuMTAzIDAtMiAuODk3LTIgMnYzMmMwIDEuMTAzLjg5NyAyIDIgMmgzMmMxLjEwMyAwIDItLjg5NyAyLTJWNGMwLTEuMTAzLS44OTctMi0yLTJINHptMzIgMzhINGMtMi4yMDYgMC00LTEuNzk0LTQtNFY0YzAtMi4yMDYgMS43OTQtNCA0LTRoMzJjMi4yMDYgMCA0IDEuNzk0IDQgNHYzMmMwIDIuMjA2LTEuNzk0IDQtNCA0eiIvPgogICAgPC9nPgo8L3N2Zz4K"},2373:function(e,t,a){var n=a(0);function i(e){return n.createElement("svg",e,[n.createElement("title",{key:0},"icon pic"),n.createElement("desc",{key:1},"Created with Sketch."),n.createElement("g",{id:"icon-pic",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",key:2},n.createElement("g",{id:"icon/pic"},[n.createElement("path",{d:"M6,0.5 L4,0.5 C3.72385763,0.5 3.5,0.723857625 3.5,1 L3.5,2.5 L2,2.5 C1.17157288,2.5 0.5,3.17157288 0.5,4 L0.5,16 C0.5,16.8284271 1.17157288,17.5 2,17.5 L22,17.5 C22.8284271,17.5 23.5,16.8284271 23.5,16 L23.5,4 C23.5,3.17157288 22.8284271,2.5 22,2.5 L6.5,2.5 L6.5,1 C6.5,0.723857625 6.27614237,0.5 6,0.5 Z",id:"Combined-Shape",stroke:"#FFFFFF",key:0}),n.createElement("circle",{id:"Oval",stroke:"#FFFFFF",cx:"12",cy:"10",r:"4.5",key:1}),n.createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"19.5",cy:"6.5",r:"1.5",key:2})]))])}i.defaultProps={width:"24px",height:"18px",viewBox:"0 0 24 18",version:"1.1"},e.exports=i,i.default=i},2374:function(e,t,a){var n=a(0);function i(e){return n.createElement("svg",e,n.createElement("g",{id:"close",transform:"translate(-33.747 -18.247)"},[n.createElement("line",{id:"Line_95","data-name":"Line 95",x2:"12.728",transform:"translate(35.161 19.661) rotate(45)",fill:"none",stroke:"#545454",strokeLinecap:"round",strokeWidth:"2",key:0}),n.createElement("line",{id:"Line_96","data-name":"Line 96",x2:"12.728",transform:"translate(44.161 19.661) rotate(135)",fill:"none",stroke:"#545454",strokeLinecap:"round",strokeWidth:"2",key:1})]))}i.defaultProps={width:"11.829",height:"11.828",viewBox:"0 0 11.829 11.828"},e.exports=i,i.default=i},2380:function(e,t,a){"use strict";var n=a(5),i=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a(9)),l=i(a(43)),r=i(a(40)),o=i(a(3)),c=i(a(12)),u=i(a(4)),d=i(a(6)),f=i(a(8)),m=i(a(7)),p=n(a(0)),E=(i(a(2)),i(a(11))),v=i(a(948));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var S=function(e){(0,d.default)(a,e);var t=b(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={searchString:"",items:e.items,expandedItems:{},animatedItems:{}},n.handleSearchChange=n.handleSearchChange.bind((0,c.default)(n)),n.clearSearch=n.clearSearch.bind((0,c.default)(n)),n.clickItemAction=n.clickItemAction.bind((0,c.default)(n)),n.toggleItemExpand=n.toggleItemExpand.bind((0,c.default)(n)),n}return(0,u.default)(a,null,[{key:"doesItemMatchString",value:function(e,t){return-1!==e.label.toLowerCase().indexOf(t.toLowerCase())}},{key:"doesItemPassSearchFilter",value:function(e,t){if(a.doesItemMatchString(e,t))return!0;if(e.subItems&&e.subItems.length>0)for(var n=0;n<e.subItems.length;n++)if(a.doesItemMatchString(e.subItems[n],t))return!0;return!1}}]),(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.manualOrdering&&(this._drake=(0,v.default)([this._itemsContainerRef],{moves:function(e,t,a){return a.classList.contains("search-list__drag-handle-icon")&&e.classList.contains("search-list__item")&&t.classList.contains("search-list__items")},mirrorContainer:this._mirrorContainerRef}),this._drake.on("drop",(function(t,a,n,i){var s=(0,r.default)(e.state.items),o=s.findIndex((function(e){return e.id===t.id})),c=s.splice(o,1),u=(0,l.default)(c,1)[0],d=i?s.findIndex((function(e){return e.id===i.id})):s.length;s.splice(d,0,u),e.setState({items:s},(function(){e.props.orderChanged(e.state.items)}))})))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.items!==e.items&&this.setState({items:e.items})}},{key:"componentWillUnmount",value:function(){this._drake&&this._drake.destroy()}},{key:"render",value:function(){return p.default.createElement("div",{className:(0,E.default)("search-list",this.props.styleClass)},this.getSearchBar(),this.getList(),this._renderMirrorContainer())}},{key:"getSearchBar",value:function(){var e=this,t=this.props.action,a=t?t.dataAutomationId:"",n=this.state.searchString?p.default.createElement("span",{className:"search-list__search-icon search-list__search-icon--close icon--close",onClick:this.clearSearch}):p.default.createElement("span",{className:"search-list__search-icon icon--search"});return p.default.createElement("div",{className:"search-list__search-bar"},p.default.createElement("input",{type:"text",placeholder:this.props.searchPlaceholder,className:"search-list__search-input",onChange:this.handleSearchChange,value:this.state.searchString,ref:function(t){e.searchInput=t},"data-automation-id":"search-list__search-input-".concat(a)}),n)}},{key:"handleSearchChange",value:function(e){var t=e.target.value;this.setState({searchString:t}),this.props.searchChanged(t)}},{key:"refocusSearchInput",value:function(){this.searchInput.focus()}},{key:"clearSearch",value:function(){this.setState({searchString:""}),this.props.searchChanged(""),this.refocusSearchInput()}},{key:"skipForParentNode",value:function(e){return this.props.selectOnlyChildNodes&&!!e.subItems}},{key:"getList",value:function(){var e=this,t=this.state.items.filter((function(t){return a.doesItemPassSearchFilter(t,e.state.searchString)}));return this._renderList(t)}},{key:"_renderList",value:function(e){var t=this;return p.default.createElement("div",{className:"search-list__items",ref:function(e){t._itemsContainerRef=e}},e.map((function(e){var a=(0,E.default)("search-list__item",{"search-list__item--disabled":e.isDisabled}),n=(0,E.default)("search-list__item-content",{"search-list__item-content--disabled":e.isDisabled});return p.default.createElement("div",{className:a,id:e.id,key:e.id},p.default.createElement("div",{className:n},t._renderItemView(e),t._renderItemAction(e),t._renderItemControl(e)),t._renderSubItems(e))})))}},{key:"_renderSubItems",value:function(e){var t,n=this,i=e.id,s=e.subItems;if(!s)return null;t=this.state.animatedItems[i]?this.state.expandedItems[i]?"search-list__sub-items--expanded":"search-list__sub-items--hidden":"";var l=(0,E.default)("search-list__sub-items",t);return p.default.createElement("div",{className:l},s.filter((function(e){return a.doesItemMatchString(e,n.state.searchString)})).map((function(e){var t=(0,E.default)("search-list__sub-item",{"search-list__sub-item--disabled":e.isDisabled});return p.default.createElement("div",{className:t,key:e.id},n._renderSubItemView(e),n._renderItemAction(e))})))}},{key:"_renderMirrorContainer",value:function(){var e,t=this;return this.props.manualOrdering&&(e=p.default.createElement("div",{className:"search-list__mirror-container",ref:function(e){t._mirrorContainerRef=e}})),e}},{key:"_renderItemView",value:function(e){var t,a=this;t=this.props.renderItemView?this.props.renderItemView(e):p.default.createElement("div",{className:"search-list__item-default-view"},p.default.createElement("span",{className:"search-list__item-name"},e.label));var n=this._doesActionHaveIcon()?void 0:function(){a.clickItemAction(e.id)};return p.default.createElement("div",{className:"search-list__item-view",onClick:n},t)}},{key:"_renderSubItemView",value:function(e){return this.props.renderSubItemView?this.props.renderSubItemView(e):this._renderItemView(e)}},{key:"_renderItemAction",value:function(e){var t=this;if(!this.props.action||this.skipForParentNode(e)||!this._doesActionHaveIcon())return null;var a,n=function(){t.clickItemAction(e.id)},i="search-list__item-action",s=this.props.action.iconClass,l=this.props.action.label;return e.isDisabled&&(n=function(){},i+=" search-list__item-action--disabled",l=this.props.action.disabledLabel,s=this.props.action.disabledIconClass),this.props.action.iconClass?(i+=" search-list__item-action--icon icon--".concat(s),a=p.default.createElement("span",{className:i,title:l,onClick:n})):a=p.default.createElement("span",{className:i,onClick:n},l),p.default.createElement("div",{className:"search-list__item-actions"},a)}},{key:"clickItemAction",value:function(e){this.props.action.onClick(e)}},{key:"_renderItemControl",value:function(e){return p.default.createElement("div",{className:"search-list__item-controls"},this._renderItemDragHandle(e),this._renderItemExpand(e))}},{key:"_renderItemDragHandle",value:function(){var e;return this.props.manualOrdering&&(e=p.default.createElement("div",{className:"search-list__drag-handle-icon search-list__drag-handle-icon--control-drag search-list__item-control"})),e}},{key:"_renderItemExpand",value:function(e){var t=this;if(this.props.manualOrdering||!e.subItems)return null;if(0===e.subItems.filter((function(e){return a.doesItemPassSearchFilter(e,t.state.searchString)})).length)return null;var n=e.id,i=(0,E.default)("icon--chev-contract","search-list__expand-icon",{"search-list__expand-icon--reverse":!this.state.expandedItems[n]});return p.default.createElement("div",{className:"search-list__item-control",onClick:function(){t.toggleItemExpand(n)}},p.default.createElement("span",{className:i}))}},{key:"_doesActionHaveIcon",value:function(){var e=this.props.action;return e&&(e.iconClass||e.label)}},{key:"toggleItemExpand",value:function(e){this.setState((function(t){var a=h({},t.expandedItems);a[e]=!a[e];var n=h({},t.animatedItems);return n[e]=!0,{expandedItems:a,animatedItems:n}}))}}]),a}(p.Component);S.defaultProps={searchPlaceholder:"",searchChanged:function(){},action:void 0,items:[],styleClass:"",renderItemView:void 0,manualOrdering:!1,orderChanged:function(){},selectOnlyChildNodes:!1};var y=S;t.default=y},2381:function(e,t,a){},2652:function(e,t,a){"use strict";a.r(t),a.d(t,"CSSTransition",(function(){return S})),a.d(t,"ReplaceTransition",(function(){return O})),a.d(t,"SwitchTransition",(function(){return F})),a.d(t,"TransitionGroup",(function(){return x})),a.d(t,"Transition",(function(){return g})),a.d(t,"config",(function(){return d}));var n=a(260),i=a(329),s=a(507);a(2);function l(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var r=a(0),o=a.n(r),c=a(24),u=a.n(c),d={disabled:!1},f=o.a.createContext(null),m="entering",p="entered",E=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var i,s=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(i="exited",n.appearStatus=m):i=p:i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:i},n.nextCallback=null,n}Object(s.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==m&&a!==p&&(t=m):a!==m&&a!==p||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[u.a.findDOMNode(this),n],s=i[0],l=i[1],r=this.getTimeouts(),o=n?r.appear:r.enter;!e&&!a||d.disabled?this.safeSetState({status:p},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,l),this.safeSetState({status:m},(function(){t.props.onEntering(s,l),t.onTransitionEnd(o,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(s,l)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!d.disabled?(this.props.onExit(n),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],s=i[0],l=i[1];this.props.addEndListener(s,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,a=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(f.Provider,{value:null},"function"==typeof a?a(e,n):o.a.cloneElement(o.a.Children.only(a),n))},t}(o.a.Component);function v(){}E.contextType=f,E.propTypes={},E.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},E.UNMOUNTED="unmounted",E.EXITED="exited",E.ENTERING=m,E.ENTERED=p,E.EXITING="exiting";var g=E,h=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=l(a.className,n):a.setAttribute("class",l(a.className&&a.className.baseVal||"",n)));var a,n}))},b=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),i=n[0],s=n[1];t.removeClasses(i,"exit"),t.addClass(i,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),i=n[0],s=n[1]?"appear":"enter";t.addClass(i,s,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),i=n[0],s=n[1]?"appear":"enter";t.removeClasses(i,s),t.addClass(i,s,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,i=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:i,activeClassName:n?i+"-active":a[e+"Active"],doneClassName:n?i+"-done":a[e+"Done"]}},t}Object(s.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&i&&(n+=" "+i),"active"===a&&e&&e.scrollTop,n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,i=a.active,s=a.done;this.appliedClasses[t]={},n&&h(e,n),i&&h(e,i),s&&h(e,s)},a.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return o.a.createElement(g,Object(n.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.a.Component);b.defaultProps={classNames:""},b.propTypes={};var S=b,y=a(654);function C(e,t){var a=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){a[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),a}function _(e,t,a){return null!=a[t]?a[t]:e.props[t]}function N(e,t,a){var n=C(e.children),i=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var n,i=Object.create(null),s=[];for(var l in e)l in t?s.length&&(i[l]=s,s=[]):s.push(l);var r={};for(var o in t){if(i[o])for(n=0;n<i[o].length;n++){var c=i[o][n];r[i[o][n]]=a(c)}r[o]=a(o)}for(n=0;n<s.length;n++)r[s[n]]=a(s[n]);return r}(t,n);return Object.keys(i).forEach((function(s){var l=i[s];if(Object(r.isValidElement)(l)){var o=s in t,c=s in n,u=t[s],d=Object(r.isValidElement)(u)&&!u.props.in;!c||o&&!d?c||!o||d?c&&o&&Object(r.isValidElement)(u)&&(i[s]=Object(r.cloneElement)(l,{onExited:a.bind(null,l),in:u.props.in,exit:_(l,"exit",e),enter:_(l,"enter",e)})):i[s]=Object(r.cloneElement)(l,{in:!1}):i[s]=Object(r.cloneElement)(l,{onExited:a.bind(null,l),in:!0,exit:_(l,"exit",e),enter:_(l,"enter",e)})}})),i}var I=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},T=function(e){function t(t,a){var n,i=(n=e.call(this,t,a)||this).handleExited.bind(Object(y.a)(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}Object(s.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var a,n,i=t.children,s=t.handleExited;return{children:t.firstRender?(a=e,n=s,C(a.children,(function(e){return Object(r.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:_(e,"appear",a),enter:_(e,"enter",a),exit:_(e,"exit",a)})}))):N(e,i,s),firstRender:!1}},a.handleExited=function(e,t){var a=C(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=Object(n.a)({},t.children);return delete a[e.key],{children:a}})))},a.render=function(){var e=this.props,t=e.component,a=e.childFactory,n=Object(i.a)(e,["component","childFactory"]),s=this.state.contextValue,l=I(this.state.children).map(a);return delete n.appear,delete n.enter,delete n.exit,null===t?o.a.createElement(f.Provider,{value:s},l):o.a.createElement(f.Provider,{value:s},o.a.createElement(t,n,l))},t}(o.a.Component);T.propTypes={},T.defaultProps={component:"div",childFactory:function(e){return e}};var x=T,A=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.handleLifecycle("onExited",1,a)},t}Object(s.a)(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var n,i=this.props.children,s=o.a.Children.toArray(i)[t];if(s.props[e]&&(n=s.props)[e].apply(n,a),this.props[e]){var l=s.props.nodeRef?void 0:u.a.findDOMNode(this);this.props[e](l)}},a.render=function(){var e=this.props,t=e.children,a=e.in,n=Object(i.a)(e,["children","in"]),s=o.a.Children.toArray(t),l=s[0],r=s[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,o.a.createElement(x,n,a?o.a.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):o.a.cloneElement(r,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(o.a.Component);A.propTypes={};var D,k,O=A;var L="out-in",P="in-out",M=function(e,t,a){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),a()}},w=((D={})[L]=function(e){var t=e.current,a=e.changeState;return o.a.cloneElement(t,{in:!1,onExited:M(t,"onExited",(function(){a(m,null)}))})},D[P]=function(e){var t=e.current,a=e.changeState,n=e.children;return[t,o.a.cloneElement(n,{in:!0,onEntered:M(n,"onEntered",(function(){a(m)}))})]},D),R=((k={})[L]=function(e){var t=e.children,a=e.changeState;return o.a.cloneElement(t,{in:!0,onEntered:M(t,"onEntered",(function(){a(p,o.a.cloneElement(t,{in:!0}))}))})},k[P]=function(e){var t=e.current,a=e.children,n=e.changeState;return[o.a.cloneElement(t,{in:!1,onExited:M(t,"onExited",(function(){n(p,o.a.cloneElement(a,{in:!0}))}))}),o.a.cloneElement(a,{in:!0})]},k),U=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={status:p,current:null},t.appeared=!1,t.changeState=function(e,a){void 0===a&&(a=t.state.current),t.setState({status:e,current:a})},t}Object(s.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===m&&e.mode===P?{status:m}:!t.current||(a=t.current,n=e.children,a===n||o.a.isValidElement(a)&&o.a.isValidElement(n)&&null!=a.key&&a.key===n.key)?{current:o.a.cloneElement(e.children,{in:!0})}:{status:"exiting"};var a,n},a.render=function(){var e,t=this.props,a=t.children,n=t.mode,i=this.state,s=i.status,l=i.current,r={children:a,current:l,changeState:this.changeState,status:s};switch(s){case m:e=R[n](r);break;case"exiting":e=w[n](r);break;case p:e=l}return o.a.createElement(f.Provider,{value:{isMounting:!this.appeared}},e)},t}(o.a.Component);U.propTypes={},U.defaultProps={mode:L};var F=U},2721:function(e,t,a){"use strict";var n=a(5),i=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a(9)),l=i(a(33)),r=i(a(34)),o=i(a(43)),c=i(a(127)),u=n(a(0)),d=a(2652),f=(i(a(2)),i(a(11))),m=i(a(13)),p=i(a(18)),E=i(a(21)),v=i(a(356)),g=i(a(327)),h=n(a(216)),b=i(a(362)),S=n(a(1226)),y=n(a(607)),C=i(a(36)),_=n(a(2226)),N=n(a(603)),I=a(74),T=i(a(2245)),x=i(a(58)),A=i(a(41)),D=i(a(2372)),k=i(a(2373)),O=i(a(2374)),L=i(a(2725));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(2261);var w=60,R=3,U=function(e){var t,a,n,i=e.closeCB,P=e.contentItem,U=e.saveCIProperties,F=e.setLoader,j=e.expandableView,V=e.channelId,G=e.addModal,H=e.removeModal,B=e.hasScorm,Y=e.isBulkDueDate,Q=e.isBulkAvailability,z=e.itemsCount,Z=m.default.isInstructor(),K=m.default.isEditor(),W=m.default.getLocale(),J=(0,u.useRef)(),X=m.default.isFeatureEnabled("assignmentsDueNotification"),q=P,$=q.name,ee=q.image,te=q.properties,ae=q.assessment,ne=q.locale,ie=q.isMustCompleteQuestions,se=q.mustCompleteTrackScorm,le=q.videoCantSkip,re=(0,u.useState)(""),oe=(0,o.default)(re,2),ce=oe[0],ue=oe[1],de=(0,u.useState)($),fe=(0,o.default)(de,2),me=fe[0],pe=fe[1],Ee=(0,u.useState)(ne||m.default.getLocale()),ve=(0,o.default)(Ee,2),ge=ve[0],he=ve[1],be=(0,u.useState)(!1),Se=(0,o.default)(be,2),ye=Se[0],Ce=Se[1],_e=(0,u.useState)(ee),Ne=(0,o.default)(_e,2),Ie=Ne[0],Te=Ne[1],xe=(0,u.useState)(ae),Ae=(0,o.default)(xe,2),De=Ae[0],ke=Ae[1],Oe=(0,u.useState)(!!ie||!!(null==te?void 0:te.isMustCompleteQuestions)),Le=(0,o.default)(Oe,2),Pe=Le[0],Me=Le[1],we=(0,u.useState)(!!se||(null==te?void 0:te.mustCompleteTrackScorm)),Re=(0,o.default)(we,2),Ue=Re[0],Fe=Re[1],je=(0,u.useState)(!!le||(null==te?void 0:te.videoCantSkip)),Ve=(0,o.default)(je,2),Ge=Ve[0],He=Ve[1],Be=(0,u.useState)(!1),Ye=(0,o.default)(Be,2),Qe=Ye[0],ze=Ye[1],Ze=(0,u.useState)(!1),Ke=(0,o.default)(Ze,2),We=Ke[0],Je=Ke[1],Xe=(0,u.useState)(null),qe=(0,o.default)(Xe,2),$e=qe[0],et=qe[1],tt=(0,u.useState)(null),at=(0,o.default)(tt,2),nt=at[0],it=at[1],st=(0,u.useState)({value:0,displayValue:0}),lt=(0,o.default)(st,2),rt=lt[0],ot=lt[1],ct=(0,u.useState)({value:0,displayValue:0}),ut=(0,o.default)(ct,2),dt=ut[0],ft=ut[1],mt=(0,u.useState)(!1),pt=(0,o.default)(mt,2),Et=pt[0],vt=pt[1],gt=(0,u.useState)(!1),ht=(0,o.default)(gt,2),bt=ht[0],St=ht[1],yt=(0,u.useState)(!1),Ct=(0,o.default)(yt,2),_t=Ct[0],Nt=Ct[1],It=(0,u.useState)(!1),Tt=(0,o.default)(It,2),xt=Tt[0],At=Tt[1],Dt=(0,u.useState)(!1),kt=(0,o.default)(Dt,2),Ot=kt[0],Lt=kt[1],Pt=(0,u.useState)(!1),Mt=(0,o.default)(Pt,2),wt=Mt[0],Rt=Mt[1],Ut=(0,u.useState)(w),Ft=(0,o.default)(Ut,2),jt=Ft[0],Vt=Ft[1],Gt=(0,u.useState)(R),Ht=(0,o.default)(Gt,2),Bt=Ht[0],Yt=Ht[1];function Qt(e){return e?e.split(","):[-1,2]}function zt(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Qt(a.dueDateNotificationsDayRange||(null===(e=m.default.getAppdata())||void 0===e||null===(t=e.appConf)||void 0===t?void 0:t.assignmentsDueNotification.dayRange));return{isDueDateNotificationsDisabled:a.isDueDateNotificationsDisabled||!1,beforeDueDateNotification:n[0]<0?Math.abs(n[0]):0,afterDueDateNotification:n[1]>0?n[1]:0}}(0,u.useEffect)((function(){var e,t,a;(null==ce?void 0:ce.autoReset)&&(Vt(null===(e=ce.autoReset)||void 0===e?void 0:e.minimumScore),Rt(null===(t=ce.autoReset)||void 0===t?void 0:t.enabled),Yt(null===(a=ce.autoReset)||void 0===a?void 0:a.maxAttempts))}),[ce]);var Zt=function(){var e=(0,r.default)(l.default.mark((function e(t){var a,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.cid){e.next=4;break}t(),e.next=18;break;case 4:return F(!0),e.prev=5,a=m.default.getAppdata().siteDetails.id,e.next=9,L.default.getCIAnsweredByLearners({contentId:P.cid,siteId:a});case 9:n=e.sent,F(!1),n?(i=void 0,i=u.default.createElement(x.default,{styleClass:"settings-run-as-assessment-dialog",title:p.default.translate("ciEditor.settingsDialog.runAsAssessmentDialog.title"),content:p.default.translate("ciEditor.settingsDialog.runAsAssessmentDialog.text"),actions:[{id:"ok",text:p.default.translate("ciEditor.settingsDialog.runAsAssessmentDialog.buttons.ok"),type:x.default.BUTTON_TYPES.PRIMARY,onClick:H,keyCode:13}]}),G(i),A.default.sendEvent(A.default.TITLES.RUN_AS_ASSESSMENT_DISABLED,A.default.COMPONENTS.CI_EDITOR)):t(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),F(!1),t();case 18:case"end":return e.stop()}var i}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=(0,r.default)(l.default.mark((function e(){var a,n,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.cid){e.next=3;break}return ue({}),e.abrupt("return");case 3:return F(!0),e.next=6,L.default.getAssignmentsSettings({contentId:P.cid,channelId:V});case 6:(a=e.sent)?(t=a.instructions,ze(!!a.locked),Je(a.locked&&"SCHEDULED"===a.lockType),a.startFrom&&(n=new Date(a.startFrom),ot({value:60*n.getHours()*60*1e3+60*n.getMinutes()*1e3+1e3*n.getSeconds(),displayValue:60*n.getHours()*60+60*n.getMinutes()+n.getSeconds()}),et(n.setHours(0,0,0,0))),a.startUntil&&(i=new Date(a.startUntil),ft({value:60*i.getHours()*60*1e3+60*i.getMinutes()*1e3+1e3*i.getSeconds(),displayValue:60*i.getHours()*60+60*i.getMinutes()+i.getSeconds()}),it(i.setHours(0,0,0,0))),X&&(a=M(M({},a),zt(a))),ue(a),F(!1)):(ue({}),F(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,r.default)(l.default.mark((function e(){var t,a,n,i,s;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=7;break}return e.next=3,L.default.getContentData({contentId:P.cid,channelId:V});case 3:i=e.sent,s=null===(t=i.pages)||void 0===t?void 0:t.pagesOrder.map((function(e){return i.pages.pages[e]})),At(!!(null==s?void 0:s.find((function(e){return e.type===E.default.CI_PAGE_TYPES.SCORM&&m.default.isScormSupportedVersion(e.presentation.metadata.schemaversion)})))),Fe(null===(a=i.ci)||void 0===a||null===(n=a.properties)||void 0===n?void 0:n.mustCompleteTrackScorm);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){var e;Y||Q||(ce||Kt(),(0,c.default)(B)?At(B):P.cid&&Wt(),null===(e=J.current)||void 0===e||e.focus(),setTimeout((function(){Nt(!0)}),1500))}),[]);var Jt=function(){return{dueDate:ce.dueDate||0,isDueDateNotificationsDisabled:ce.dueDate&&X?ce.isDueDateNotificationsDisabled:void 0,dueDateNotificationsDayRange:ce.dueDate&&X?[-1*ce.beforeDueDateNotification,ce.afterDueDateNotification].join(","):void 0}},Xt=function(){var e={locked:!!Qe||!!We,lockType:We?"SCHEDULED":"MANUAL",durationInSeconds:ce.durationInSeconds};return $e&&(e.startFrom=$e+((null==rt?void 0:rt.value)||0)),nt&&nt>=$e&&(e.startUntil=nt+((null==dt?void 0:dt.value)||0)),e};var qt={IMAGE_PICKER:p.default.getNestedJSON().interaction.IMAGE.IMAGE_PICKER,CROPPER:p.default.getNestedJSON().interaction.IMAGE.CROPPER};var $t=function(e,t,a){return Array(t-e+1).fill().map((function(t,n){return{key:e+n,label:(e+n).toString(),selected:e+n===a}}))};function ea(e,t,a){var n=e.target.value;n=(n=n.replace(/\D+/g,"").replace(/^0+(?=\d)/,""))||0;var i=parseInt(n,10);i=Math.max(0,i),i=Math.min(10,i),i+="",t.value=i,ue(M(M({},ce),{},(0,s.default)({},a,i)))}function ta(){var e,t=u.default.createElement("div",{className:"settings-due-date-box"},u.default.createElement("div",{className:"settings-due-date-box-title"},p.default.translate("ciEditor.settingsDialog.Timelimit.title")),u.default.createElement("div",{className:"settings-due-date-box-text"},p.default.translate("ciEditor.settingsDialog.Timelimit.text")),u.default.createElement("div",{className:"settings-due-date-box-date"},u.default.createElement(S.default,{theme:S.DATE_PICKER_THEME.CLASSIC,disablePastDaysIncludeToday:!1,onSelection:function(e){var t=M(M({},ce),{},{dueDate:e.setHours(0,0,0,0)});X&&(void 0===ce.beforeDueDateNotification&&void 0===ce.afterDueDateNotification&&(t=M(M({},t),zt())),t.isDueDateNotificationsDisabled=!1),ue(t)},selected:ce.dueDate?new Date(ce.dueDate):null,locale:W}),!Y&&u.default.createElement("div",{className:"delete-button",onClick:function(){ue(M(M({},ce),{},{dueDate:null}))}})),(e=!(!ce.dueDate||!X),u.default.createElement(d.CSSTransition,{in:e,timeout:200,classNames:"settings-due-date-box-notifications-animation",unmountOnExit:!0},u.default.createElement("div",{className:"settings-due-date-box-notifications"},u.default.createElement("div",{className:"settings-due-date-box-notifications-text"},p.default.translate("ciEditor.settingsDialog.dueDateNotifications.text")),u.default.createElement("div",{className:"settings-due-date-box-notifications-toggle"},u.default.createElement(h.default,{showTooltip:!1,theme:h.TOGGLE_THEME.CLASSIC,isEnabled:!ce.isDueDateNotificationsDisabled,onUserChangeState:function(e){ue(M(M({},ce),{},{isDueDateNotificationsDisabled:!e}))}})),u.default.createElement("div",{className:(0,f.default)("settings-due-date-box-notifications-start",{disabled:ce.isDueDateNotificationsDisabled})},u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.dueDateNotifications.start1")),u.default.createElement("input",{type:"number",min:0,max:10,defaultValue:ce.beforeDueDateNotification,onChange:function(e){return ea(e,a,"beforeDueDateNotification")},ref:function(e){a=e},disabled:ce.isDueDateNotificationsDisabled}),u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.dueDateNotifications.start2"))),u.default.createElement("div",{className:(0,f.default)("settings-due-date-box-notifications-stop",{disabled:ce.isDueDateNotificationsDisabled})},u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.dueDateNotifications.stop1")),u.default.createElement("input",{type:"number",min:0,max:10,defaultValue:ce.afterDueDateNotification,onChange:function(e){return ea(e,n,"afterDueDateNotification")},ref:function(e){n=e},disabled:ce.isDueDateNotificationsDisabled}),u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.dueDateNotifications.stop2")))))));return Y?u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"settings-bulk-action-warning-message"},p.default.translate("ciEditor.settingsDialog.bulk-action-warning-message",{itemsCount:z})),t):t}function aa(e){var t=document.querySelector("html");t&&(e?t.classList.add("time-picker-open"):t.classList.remove("time-picker-open"))}function na(){var e=u.default.createElement("div",{className:"settings-availability-box"},u.default.createElement("div",{className:"settings-availability-box-title"},p.default.translate("ciEditor.settingsDialog.availability.title")),u.default.createElement("div",{className:"settings-availability-box-text"},p.default.translate("ciEditor.settingsDialog.availability.text")),u.default.createElement("div",{className:"settings-availability-box-unlocked"},u.default.createElement("div",{className:"settings-availability-box-radio"},u.default.createElement("label",{htmlFor:"select-ci-unlocked",className:"uc-radio-button control",onClick:function(){vt(null)},onChange:function(){ze(!1),Je(!1),Q&&Lt(!0)}},u.default.createElement("input",{id:"select-ci-unlocked",type:"radio",name:"ci-locked",value:"select-ci-locked",checked:!Qe&&!We&&(!Q||Ot)}),u.default.createElement("div",{className:"control__indicator"}),u.default.createElement("div",{className:"settings-availability-box-title flex-box"},u.default.createElement("span",{className:"element__icon element__icon--CIunlock-button"},u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.availability.unlocked.title")))))),u.default.createElement("div",{className:"settings-availability-box-text padding-before"},p.default.translate("ciEditor.settingsDialog.availability.unlocked.text"))),u.default.createElement("div",{className:"settings-availability-box-locked"},u.default.createElement("div",{className:"settings-availability-box-radio"},u.default.createElement("label",{htmlFor:"select-ci-locked",className:"uc-radio-button control",onClick:function(){vt(null)},onChange:function(){ze(!0),Je(!1),Q&&Lt(!0)}},u.default.createElement("input",{id:"select-ci-locked",type:"radio",name:"ci-locked",value:"select-ci-locked",checked:Qe&&!We}),u.default.createElement("div",{className:"control__indicator"}),u.default.createElement("div",{className:"settings-availability-box-title flex-box"},u.default.createElement("span",{className:"element__icon element__icon--CIlock-button"},u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.availability.locked.title")))))),u.default.createElement("div",{className:"settings-availability-box-text padding-before"},p.default.translate("ciEditor.settingsDialog.availability.locked.text"))),u.default.createElement("div",{className:"settings-availability-box-automatic"},u.default.createElement("div",{className:"settings-availability-box-radio"},u.default.createElement("label",{htmlFor:"select-ci-automatic",className:"uc-radio-button control",onClick:function(){vt(null)},onChange:function(e){ze(!0),Je(e),Q&&Lt(!0)}},u.default.createElement("input",{id:"select-ci-automatic",type:"radio",name:"ci-locked",value:"select-ci-automatic",checked:Qe&&We}),u.default.createElement("div",{className:"control__indicator"}),u.default.createElement("div",{className:"settings-availability-box-title flex-box"},u.default.createElement("span",{className:"element__icon",onClick:function(){Je(!We)}},u.default.createElement(I.CalendarScheduledIcon,null),u.default.createElement("span",null,p.default.translate("ciEditor.settingsDialog.availability.automatic.title")))))),u.default.createElement("div",{className:"settings-availability-box-text padding-before"},p.default.translate("ciEditor.settingsDialog.availability.automatic.text")),u.default.createElement("div",{className:(0,f.default)("settings-availability-box-dates padding-before",{disabled:!We})},u.default.createElement("div",null,u.default.createElement("div",{className:"settings-availability-box-text"},p.default.translate("ciEditor.settingsDialog.availability.automatic.from"),":"),u.default.createElement("div",{className:"relative-parent"},u.default.createElement("span",{className:"settings-availability-box-date"},u.default.createElement(S.default,{theme:S.DATE_PICKER_THEME.CLASSIC,onShowCalendar:function(){vt(null)},onSelection:function(e){var t=e.setHours(0,0,0,0);et(t),nt<t&&it(null)},selected:$e?new Date($e):null,locale:W,styleClass:"startFrom"===Et?"error":""}),"startFrom"!==Et?null:u.default.createElement(_.default,{isError:!0,arrowDirection:_.ArrowDirection.UP,styleClass:"settings-availability-box-date__error-popup"},p.default.translate("SCHEDULING_DIALOG.ERRORS.NO_START_DATE")),u.default.createElement("div",{className:"delete-button",onClick:function(){et(null),it(null)}})),u.default.createElement("span",{className:"settings-availability-box-date"},u.default.createElement(y.default,{theme:y.TIME_PICKER_THEME.CLASSIC,startTimeInSeconds:null==rt?void 0:rt.displayValue,config:{format:"HH:mm",allowClear:!1,defaultValue:0,onOpenChange:aa},onChange:function(e){ot({value:60*e.hours()*60*1e3+60*e.minutes()*1e3+1e3*e.seconds(),displayValue:60*e.hours()*60+60*e.minutes()+e.seconds()})}}),u.default.createElement("div",{className:"delete-button",onClick:function(){ot({value:0,displayValue:0})}})))),u.default.createElement("div",null,u.default.createElement("div",{className:"settings-availability-box-text"},p.default.translate("ciEditor.settingsDialog.availability.automatic.until"),":"),u.default.createElement("div",null,u.default.createElement("span",{className:"settings-availability-box-date"},u.default.createElement(S.default,{startDate:$e?new Date($e):null,theme:S.DATE_PICKER_THEME.CLASSIC,onSelection:function(e){it(e.setHours(0,0,0,0))},selected:nt?new Date(nt):null,locale:W}),u.default.createElement("div",{className:"delete-button",onClick:function(){it(null)}})),u.default.createElement("span",{className:"settings-availability-box-date"},u.default.createElement(y.default,{theme:y.TIME_PICKER_THEME.CLASSIC,config:{format:"HH:mm",allowClear:!1,defaultValue:0,onOpenChange:aa},startTimeInSeconds:null==dt?void 0:dt.displayValue,onChange:function(e){ft({value:60*e.hours()*60*1e3+60*e.minutes()*1e3+1e3*e.seconds(),displayValue:60*e.hours()*60+60*e.minutes()+e.seconds()})}}),u.default.createElement("div",{className:"delete-button",onClick:function(){ft({value:0,displayValue:0})}})))),u.default.createElement("div",{className:"settings-due-date-box-time"},u.default.createElement("div",null,u.default.createElement("div",{className:"settings-due-date-box-text"},p.default.translate("ciEditor.settingsDialog.Timelimit.timer.text")),u.default.createElement("div",{className:"settings-due-date-box-date"},u.default.createElement(y.default,{theme:y.TIME_PICKER_THEME.CLASSIC,startTimeInSeconds:ce.durationInSeconds||0,config:{defaultValue:null,allowClear:!1,onOpenChange:aa},onChange:function(e){var t=60*e.hours()*60+60*e.minutes()+e.seconds();ue(M(M({},ce),{},{durationInSeconds:t}))}}),u.default.createElement("div",{className:"delete-button",onClick:function(){ue(M(M({},ce),{},{durationInSeconds:null}))}})))))));return Q?u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"settings-bulk-action-warning-message"},p.default.translate("ciEditor.settingsDialog.bulk-action-warning-message",{itemsCount:z})),e):e}var ia,sa,la,ra,oa=function(){return Y?ta():Q?na():u.default.createElement(u.default.Fragment,null,K&&u.default.createElement("div",{className:(0,f.default)("settings-assessment-box",{disabled:!(K&&U)})},u.default.createElement("div",{className:"select-assessment"},u.default.createElement("div",{className:"settings-assessment-box-title"},p.default.translate("ciEditor.settingsDialog.assessment.title")),u.default.createElement("div",{className:"settings-assessment-box-toggle"},u.default.createElement(h.default,{showTooltip:!1,theme:h.TOGGLE_THEME.CLASSIC,isEnabled:De,beforeChangeCallback:ae?null:function(e){return Zt(e)},onUserChangeState:function(e){ke(e),Rt(!1),Yt(R),Vt(w)}})),u.default.createElement("div",{className:"settings-assessment-box-text"},p.default.translate("ciEditor.settingsDialog.assessment.text"))),m.default.isFeatureEnabled("autoResetCI")&&De&&u.default.createElement("div",{className:"auto-reset"},u.default.createElement("div",null,u.default.createElement("div",{className:"settings-assessment-box-title"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-title")),u.default.createElement("div",{className:"settings-assessment-box-toggle"},u.default.createElement(h.default,{showTooltip:!1,theme:h.TOGGLE_THEME.CLASSIC,isEnabled:wt,onUserChangeState:function(e){Rt(e),Vt(w),Yt(R)}})),u.default.createElement("div",{className:"settings-assessment-box-text"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-text"))),wt&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",null,u.default.createElement("div",{className:"settings-assessment-auto-reset-title"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-minimum-score-title"),"-"),u.default.createElement(N.default,{className:"settings-assessment-auto-reset-dd",options:$t(1,100,jt),theme:N.DROPDOWN_THEME.CLASSIC,onChange:function(e){Vt(e.key)},ignoreWidth:!0,isClassic:!0,isArrowByIcon:!0,noBorder:!0}),u.default.createElement("span",{className:"percentage"},"%"),u.default.createElement("div",{className:"settings-assessment-box-text"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-minimum-score-text"))),u.default.createElement("div",null,u.default.createElement("div",{className:"settings-assessment-auto-reset-title"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-maximium-attempts-title"),"-"),u.default.createElement(N.default,{className:"settings-assessment-auto-reset-dd",options:$t(2,10,Bt),theme:N.DROPDOWN_THEME.CLASSIC,onChange:function(e){Yt(e.key)},ignoreWidth:!0,isClassic:!0,isArrowByIcon:!0,noBorder:!0}),u.default.createElement("div",{className:"settings-assessment-box-text"},p.default.translate("ciEditor.settingsDialog.assessment.auto-reset-maximium-attempts-text")))))),K&&(e=!(K&&U),u.default.createElement("div",{className:(0,f.default)("settings-MustCompleteQuestions-box",{disabled:e})},u.default.createElement("div",{className:"settings-MustCompleteQuestions-box-title"},p.default.translate("ciEditor.settingsDialog.MustCompleteQuestions.title")),u.default.createElement("div",{className:"settings-MustCompleteQuestions-box-text"},p.default.translate("ciEditor.settingsDialog.MustCompleteQuestions.text")),u.default.createElement("div",{className:"settings-MustCompleteQuestions-box-toggle"},u.default.createElement(h.default,{showTooltip:!1,theme:h.TOGGLE_THEME.CLASSIC,isEnabled:Pe,onUserChangeState:function(e){Me(e)}})),xt&&u.default.createElement("div",{className:(0,f.default)("settings-MustCompleteQuestions-box-scorm",{disabled:!Pe})},u.default.createElement("div",{className:"settings-MustCompleteQuestions-box-scorm__checkbox",onClick:function(){Pe&&Fe(!Ue)}},u.default.createElement(v.default,{checked:Ue,disabled:!Pe}),u.default.createElement("span",{className:"settings-MustCompleteQuestions-box-scorm__checkbox--space"},p.default.translate("ciEditor.settingsDialog.MustCompleteQuestions.scorm")),u.default.createElement(g.default,{tooltip:p.default.translate("ciEditor.settingsDialog.MustCompleteQuestions.scorm-tooltip")},u.default.createElement(I.QuestionIcon,{className:"settings-MustCompleteQuestions-box-scorm__checkbox-icon"})))))),K&&(Ge||m.default.isFeatureEnabled("videoCantSkip")?u.default.createElement("div",{className:(0,f.default)("settings-video-skip-box",{disabled:!(K&&U)})},u.default.createElement("div",{className:"settings-video-skip-box-title"},p.default.translate("ciEditor.settingsDialog.video-skip.title")),u.default.createElement("div",{className:"settings-video-skip-box-text"},p.default.translate("ciEditor.settingsDialog.video-skip.text")),u.default.createElement("div",{className:"settings-video-skip-box-toggle"},u.default.createElement(h.default,{showTooltip:!1,theme:h.TOGGLE_THEME.CLASSIC,isEnabled:Ge,onUserChangeState:function(e){He(e)}}))):null),Z?ta():null,Z?na():null,K?u.default.createElement("div",{className:"settings-language-box"},u.default.createElement("div",{className:"settings-language-box-title"},p.default.translate("user.settings.section.langSelection")),u.default.createElement("div",{className:"settings-language-box-text"},p.default.translate("ciEditor.settingsDialog.language.text")),u.default.createElement("div",{className:"settings-language-box-text"},u.default.createElement(N.default,{options:p.default.getAvailableContentLocales().map((function(e){return{key:e,label:p.default.translate("CONTENT_EDITOR.CREATE_BOOK.LOCALES.".concat(e,".NAME")),selected:e===ge}})),theme:N.DROPDOWN_THEME.CLASSIC,onChange:function(e){var t;he(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:"en_US")},ignoreWidth:!0,isClassic:!0,isArrowByIcon:!0,noBorder:!0}))):u.default.createElement("div",{className:"settings-language-box"},u.default.createElement("div",{className:"settings-language-box-title"},p.default.translate("user.settings.section.langSelection")),u.default.createElement("div",{className:"settings-language-box-text"},p.default.translate("CONTENT_EDITOR.CREATE_BOOK.LOCALES.".concat(ge,".NAME")))));var e};return u.default.createElement("div",{className:"settings-open"},u.default.createElement("div",{className:"settings-modal-placeholder"},ye?u.default.createElement(b.default,{locale:ge,language:qt,limitationConfiguration:m.default.getAppdata().appConf.sizeLimitation,allowCropping:!0,minCropSize:{width:255,height:160},cropToSquare:!1,validTypes:E.default.IMAGE_VALID_TYPES,uploadFile:T.default.uploadFile,onCancel:function(){Ce(!1)},onSubmit:function(e){Te(e),Ce(!1)},defaultValues:{imageUrl:Ie,itemName:me},useSimpleModal:!1}):null),ye?u.default.createElement("div",{className:"image-picker-background"}):null,u.default.createElement("div",{className:"settings-wrapper"},u.default.createElement("div",{className:"settings-title"},(ra="",ra=Y?"ciEditor.settingsDialog.title-bulk-due-date":Q?"ciEditor.settingsDialog.title-bulk-availability":"ciEditor.settingsDialog.title",p.default.translate(ra)),i&&u.default.createElement("span",{className:"btn_close_dialog",onClick:i},u.default.createElement(O.default,null))),!Y&&!Q&&u.default.createElement("div",{className:(0,f.default)("settings-box",{disabled:!(K&&U)})},u.default.createElement("div",{className:"settings-box-image ".concat(Ie?"":"blank"),onClick:function(){Ce(!0)}},u.default.createElement("img",{src:Ie||D.default,alt:"cover"}),K&&U&&u.default.createElement("div",{className:"settings-box-image-change"},u.default.createElement("div",null,u.default.createElement(k.default,null),u.default.createElement("br",null),p.default.translate(Ie?"ciEditor.settingsDialog.itemCover.change":"ciEditor.settingsDialog.itemCover.add")))),u.default.createElement("div",{className:"settings-box-title"},p.default.translate("ciEditor.settingsDialog.itemCover.title")),u.default.createElement("div",{className:"settings-box-text"},p.default.translate("ciEditor.settingsDialog.name.title"),K?null:" "+me),K?u.default.createElement("div",{className:(0,f.default)("settings-box-input",{required:K&&!P.cid})},u.default.createElement("input",{type:"text",maxLength:100,defaultValue:me,onChange:function(e){var t;pe(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},ref:J})):null),j?(sa=(0,f.default)("settings-advanced__items",{"settings-advanced__items--open":!(j&&!bt),"settings-advanced__items--close":j&&!bt,"settings-advanced__items--prevent-animation":!_t}),la=(0,f.default)("arrow","icon--drop-down",{"arrow--up":bt,"arrow--down":!bt,"arrow--prevent-animation":!_t}),u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"settings-advanced__header",onClick:function(){St(!bt)}},u.default.createElement("div",{className:"title"},p.default.translate("ciEditor.settingsDialog.advanced.title")),u.default.createElement("div",{className:"spacer"},u.default.createElement("hr",null)),u.default.createElement("div",{className:la})),bt&&u.default.createElement("div",{className:sa},oa()))):oa(),u.default.createElement("div",{className:"settings-buttons"},u.default.createElement(C.default,{disabled:!1,id:"settings-button-cancel",onClick:i,text:p.default.translate("ciEditor.settingsDialog.cancel").toUpperCase(),theme:C.default.THEMES.LIGHT,type:C.default.TYPES.SECONDARY}),u.default.createElement(C.default,{disabled:(ia=Y&&ce.dueDate,!me&&!ia&&!Ot),id:"settings-button-save",onClick:function(){if(Y||Q)return U&&(Y?(A.default.sendEvent(A.default.TITLES.APPLY_BULK_DUE_DATE,A.default.COMPONENTS.COURSE_STRUCTURE),e=Jt()):Q&&(A.default.sendEvent(A.default.TITLES.APPLY_BULK_AVAILABILITY,A.default.COMPONENTS.COURSE_STRUCTURE),e=Xt()),U(e)),void i();var e;if(!We||$e){var a,n=function(){return M(M({assignmentId:ce.assignmentId,serverVersion:ce.serverVersion||P.version||P.contentVersion||1,channelId:V,contentId:P.cid,contentType:ce.contentType||"UCONTENT",instructions:t,isAssessment:De,autoReset:{enabled:wt,minimumScore:jt,maxAttempts:Bt}},Jt()),Xt())};if(U){var s={name:me,image:Ie,coverImageUrl:Ie,language:ge,isAssessment:De,isMustCompleteQuestions:Pe,mustCompleteTrackScorm:Ue,videoCantSkip:Ge};!P.cid&&Z&&(s=M(M({},s),{},{callback:(a=(0,r.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P=t,e.next=3,L.default.saveAssignmentsSettings(n());case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})),U(s)}P.cid&&Z&&L.default.saveAssignmentsSettings(n()),i()}else vt("startFrom")},text:p.default.translate(Y||Q?"ciEditor.settingsDialog.apply":P.cid?"ciEditor.settingsDialog.save":"ciEditor.settingsDialog.create"),theme:C.default.THEMES.LIGHT,type:C.default.TYPES.PRIMARY}))))};U.defaultProps={channelId:void 0,closeCB:null,expandableView:!1,contentItem:{},saveCIProperties:void 0,hasScorm:void 0,isBulkDueDate:!1,isBulkAvailability:!1,itemsCount:0};var F=U;t.default=F},2722:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ArrowDirection=void 0;var i=n(a(0)),s=(n(a(2)),n(a(2723))),l={BEFORE:"before",UP:"up"};t.ArrowDirection=l;var r=function(e){switch(e.direction){case l.UP:return i.default.createElement("div",{className:"arrow-up"});case l.BEFORE:default:return i.default.createElement("div",{className:"arrow-before"})}},o=function(e){var t=e.title,a=e.closeCB,n=e.styleClass,l=e.arrowDirection,o=e.isError;return i.default.createElement("div",{className:"t2k-popup ".concat(n," ").concat(o?"t2k-popup__error":""),onClick:function(e){return e.stopPropagation()}},(t||a)&&i.default.createElement("div",{className:"t2k-popup__header"},t&&i.default.createElement("span",{className:"t2k-popup__title"},t),a&&i.default.createElement("span",{className:"t2k-popup__close-btn",onClick:a},i.default.createElement(s.default,null))),i.default.createElement("div",{className:"t2k-popup__content"},e.children),i.default.createElement(r,{direction:l}))};o.defaultProps={title:"",styleClass:"",closeCB:null,isError:!1,arrowDirection:l.BEFORE};var c=o;t.default=c},2723:function(e,t,a){var n=a(0);function i(e){return n.createElement("svg",e,n.createElement("g",{id:"close",transform:"translate(-33.747 -18.247)"},[n.createElement("line",{id:"Line_95","data-name":"Line 95",x2:"12.728",transform:"translate(35.161 19.661) rotate(45)",fill:"none",stroke:"#bebebe",strokeLinecap:"round",strokeWidth:"2",key:0}),n.createElement("line",{id:"Line_96","data-name":"Line 96",x2:"12.728",transform:"translate(44.161 19.661) rotate(135)",fill:"none",stroke:"#bebebe",strokeLinecap:"round",strokeWidth:"2",key:1})]))}i.defaultProps={width:"11.829",height:"11.828",viewBox:"0 0 11.829 11.828"},e.exports=i,i.default=i},2724:function(e,t,a){},2725:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(33)),s=n(a(34)),l=n(a(28)),r=n(a(13)),o=n(a(53)),c=l.default.Instance,u=o.default.LogManager,d="/PlayAppService/assignments/settings",f="/PlayAppService/assignments/settings?contentId=:contentId&channelId=:channelId",m="/PlayAppService/content/:contentId/answered/exists?siteId=:siteId",p="/PlayAppService/ucontent/:contentId/edit?channelId=:channelId",E={getAssignmentsSettings:function(e){return(0,s.default)(i.default.mark((function t(){var a,n,s,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contentId,n=e.channelId,s=r.default.getAppdata(),l=s.backend_url,o="".concat(l).concat(f),t.abrupt("return",c.get(o,{contentId:a,channelId:n}));case 5:case"end":return t.stop()}}),t)})))()},getCIAnsweredByLearners:function(e){return(0,s.default)(i.default.mark((function t(){var a,n,s,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contentId,n=e.siteId,s=r.default.getAppdata(),l=s.backend_url,o="".concat(l).concat(m),t.abrupt("return",c.get(o,{contentId:a,siteId:n}));case 5:case"end":return t.stop()}}),t)})))()},saveAssignmentsSettings:function(e){return(0,s.default)(i.default.mark((function t(){var a,n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.default.getAppdata(),n=a.backend_url,s="".concat(n).concat(d),t.next=5,c.post(s,{},e).catch((function(e){u.error({message:"CI settings saving failed due to: "+e.toString()})}));case 5:case"end":return t.stop()}}),t)})))()},getContentData:function(e){return(0,s.default)(i.default.mark((function t(){var a,n,s,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contentId,n=e.channelId,s=r.default.getAppdata(),l=s.backend_url,o="".concat(l).concat(p),t.prev=4,t.abrupt("return",c.get(o,{contentId:a,channelId:n}));case 8:return t.prev=8,t.t0=t.catch(4),u.error({message:"CI settings saving failed due to: "+t.t0.toString()}),t.abrupt("return",{});case 12:case"end":return t.stop()}}),t,null,[[4,8]])})))()}};t.default=E}}]);